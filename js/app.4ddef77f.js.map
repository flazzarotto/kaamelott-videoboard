{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/data/videos.csv","webpack:///./src/App.vue","webpack:///./src/translations/index.js","webpack:///./src/lib/FullTextSearch.js","webpack:///./src/lib/VideoManager/adapters/Adapter.js","webpack:///./src/lib/VideoManager/VideoManager.js","webpack:///./src/lib/VideoManager/adapters/youtube.js","webpack:///./src/store/VideoLoader/VideoLoader.js","webpack:///./src/lib/VideoManager/Video.js","webpack:///./src/store/VideoLoader/adapters/kaamelott-videoboard-backend.js","webpack:///./src/store/VideoLoader/adapters/local.js","webpack:///./src/store/videos.js","webpack:///./src/store/store.js","webpack:///./src/lib/functions/arrayCombine.js","webpack:///./src/lib/functions/trans.js","webpack:///./src/App.vue?dfb6","webpack:///./src/components/Main.vue","webpack:///./src/components/SearchBar.vue","webpack:///./src/router/paramsCalculator.js","webpack:///./src/lib/functions/episodeParser.js","webpack:///./src/components/SearchBar.vue?1b8b","webpack:///./src/components/VideoList.vue","webpack:///./src/components/Video.vue","webpack:///./src/lib/functions/copyToClipboard.js","webpack:///./src/lib/string.js","webpack:///./src/components/Video.vue?6f9b","webpack:///./src/components/VideoList.vue?2b09","webpack:///./src/components/Main.vue?eb2f","webpack:///./src/components/SingleVideo.vue","webpack:///./src/components/SingleVideo.vue?f5ca","webpack:///./src/components/About.vue","webpack:///./src/components/About.vue?0eb9","webpack:///./src/router/routes.js","webpack:///./src/router/router.js","webpack:///./src/lib/functions/setSeoDataFromRoute.js","webpack:///./src/router/guards.js","webpack:///./src/main.js","webpack:///./src/components/SearchBar.vue?6450","webpack:///./src/assets/perceval.png","webpack:///./src/components/Video.vue?aa9d","webpack:///./src/components/SingleVideo.vue?8abb","webpack:///./src/App.vue?7fbe","webpack:///./src/components/VideoList.vue?19a9","webpack:///./src/assets/leodagan.gif"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","src","Perceval","alt","trans","fr","translations_fr","slugify","require","lcSlug","text","replace","toLowerCase","initialWorkingSet","availableSorts","sort","a","b","score","title","localeCompare","episode","Math","random","search","searchText","objectSet","requiredFields","order","searchField","scoreRequired","hash","sha1","JSON","stringify","map","x","keywords","console","error","workingSet","maxScore","keywordsLengthMean","indexOf","split","word","done","scoreModifier","found","substr","field","array","Array","reduce","prevVal","currVal","idx","filter","Adapter","type","matchingFunction","getEmbedUriFunction","getThumbnailFunction","this","matches","getEmbedUri","getThumbnail","parsedUri","domain","file","qs","VideoManager","supportedTypes","videos","episodes","videoLoader","registerAdapters","adapters","adapter","toJSON","addVideo","index","video","embedParameters","frameborder","allow","expose","link","characters","script","id","v","params","width","height","allowfullscreen","join","episodeNumber","videoObject","getEmbedCode","episodeTitle","RegExp","addEpisode","episodeStr","nested","match","upper","uriMatcher","string","subdomains","path","query","parse","parameters","parsed","embedUri","currentType","parsedObj","typeName","Error","autoplayProps","props","prop","autoplay","embedCode","thumbnail","videoId","youtubeEmbed","youtubeAutoplay","embed","youtubeThumbnail","youtubeLong","obj","youtubeShort","VideoLoaderTypes","VideoLoader","fetchMethod","matchMethod","remote","videoManager","local","next","url","backendUrl","lineNumber","Video","citation","duration","thumbnailUrl","partOfEpisode","tags","arguments","message","additionalInfo","level","info","memory","undefined","mapper","people","tag","getPage","baseUri","request","cbFn","fetch","json","hydraView","members","nextUri","getAll","requestUri","requestInit","set","Request","concat","kvbLoader","headers","Headers","method","cache","piece","_hydrate","clips","clip","keys","values","localLoader","header","csvData","line","assign","k","chars","videoLoaders","callback","end","log","loader","getVideoData","fetchFunction","fallback","isLocal","catch","e","process","defaultSearch","findEpisodes","fullText","available_languages","translations","state","reactive","currentVideo","lang","loaded","mutations","updateFromVideoManager","changeSearch","setCurrentVideo","setLang","storeSymbol","createStore","readonly","useStore","inject","objectJoin","keyValueJoinSymbol","entrySeparator","store","param","warn","components","methods","setup","render","to","class","selected","updateSearch","placeholder","selectedBook","updateEpisode","val","book","trans_episode","selectedTome","tome","selectedEpisode","orderBy","updateOrder","func","sortAsc","raz","leodagan","paramsCalculator","actualQuery","newParameters","allParams","toDelete","episodeParser","exec","computed","$router","reinitSort","$route","charAt","number","substring","__scopeId","window-scroll-top","scrollTop","window-height","windowHeight","scrollToTop","openInfos","ref","visible","copyToClipboard","$event","href","helper","helperText","style","computedStyle","scriptWithStageDirections","episodeTitleUnaccented","navigator","clipboard","writeText","ucFirst","toUpperCase","directLink","Boolean","default","Number","String","ratio","windowScrollTop","basicStyle","position","component","hasBeenShown","normalize","calcVisibility","routeCalculator","mounted","$refs","videoComponent","errorMargin","offsetTop","offsetHeight","visibility","preventDefault","stopPropagation","item","setTimeout","maxVideo","addEventListener","handleScroll","unmounted","removeEventListener","document","documentElement","innerHeight","scroll","VideoList","SearchBar","VideoComponent","home","Main","toString","videoDetailRoute","SingleVideo","Promise","resolve","currentRoute","aboutRoute","About","routes","route","metas","history","configuration","webHashHistory","webHistory","confUsed","routePrefix","createWebHashHistory","createWebHistory","router","createRouter","absolute","location","origin","processMetas","meta","Function","setSeoData","getSeoDataFromRoute","description","og_title","og_description","og_image","og_video","metaName","metaValue","tagName","querySelector","createElement","setAttribute","append","textContent","parentElement","removeChild","beforeEach","app","from","nextBeforeEach","isMounted","mount","matched","then","createApp","App","provide","use","guards"],"mappings":"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","file":"js/app.4ddef77f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = [[\"link\",\"title\",\"keywords\",\"characters\",\"script\",\"episode\"],[\"https://youtu.be/3gP2GGt9mnc\",\"La femelle du lièvre c'est la hase\",\"\",\"bohort, karadoc\",\"- La femelle du lièvre c'est la hase\\n- Non moi j'connais qu'le cri...\",\"L1T1E01 Heat\"],[\"https://www.youtube.com/watch?v=ItUmHXMgIzg\",\"Vous les voyez, vous ?\",\"\",\"arthur, perceval\",\"- Vous les voyez, vous ?\\n- Non !\\n- Ah ben tourné vers là-bas c'est sûr, moi non plus j'vois rien !\",\"L1T1E01 Heat\"],[\"https://www.youtube.com/watch?v=UfJJEfBLrM0\",\"Ils sont encore là ces cons\",\"\",\"leodagan\",\"Ils sont encore là ces cons !\",\"L1T1E01 Heat\"],[\"https://www.youtube.com/watch?v=j4wwOEUFflo\",\"Si ça se trouve\",\"\",\"arthur\",\"\\\"Si ça se trouve\\\" ! Alors pour nous sortir de là il va falloir un peu plus solide que du si ça se trouve !\",\"L1T1E01 Heat\"],[\"https://www.youtube.com/watch?v=hfgauNbbzSM\",\"On pourrait balancer d'la caillasse\",\"\",\"perceval\",\"On pourrait balancer d'la caillasse vers là-bas, comme ça ils s'disent qu'on y est et nous on part dans l'autre sens !\",\"L1T1E01 Heat\"],[\"https://www.youtube.com/watch?v=BeqUeG94Ctc\",\"Laissez tomber les combines à deux ronds\",\"\",\"arthur\",\"Allons, s'il vous plaît, laissez tomber les combines à 2 ronds...\",\"L1T1E01 Heat\"],[\"https://www.youtube.com/watch?v=VopwQgMP-ms\",\"Merde s'ils ont entendu mon plan c'est foutu\",\"\",\"perceval, leodagan\",\"- Ils sont juste à côté ces cons-là.\\n- Merde s'ils ont entendu mon plan c'est foutu !\",\"L1T1E01 Heat\"],[\"https://www.youtube.com/watch?v=admWKfclMqw\",\"Animaux d'la forêt !\",\"\",\"perceval\",\"Animaux de la forêt [imitations ratées de cris d'animaux]\\nAttendez ! [autres imitations ratées de cris d'animaux]\",\"L1T1E01 Heat\"],[\"https://youtu.be/c8-6ZPXqRjA\",\"La moindre des choses c’est de rester pour le manger\",\"à table, tarte\",\"seli\",\"Y’a des gens qui ont pris la peine de faire un dessert, la moindre des choses c’est de rester pour le manger. Y’en a marre de se comporter comme des sagoins sous prétexte qu’on a des responsabilités !\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=0Z7M9Y638Qk\",\"C’est proposé si gentiment…\",\"à table, tarte\",\"arthur\",\"C’est proposé si gentiment…\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=CWFAwCqzp64\",\"Et alors faut un permis ?\",\"à table, tarte\",\"seli, leodagan\",\"- Vous faîtes des tartes vous maintenant ?\\n- Et alors faut un permis ?\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=ZwXwdeEBJgE\",\"La vache ça vous rend pas aimable\",\"à table, tarte\",\"arthur\",\"La vache, ça vous rend pas aimable en tout cas !\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=4kLnw_2j6Sw\",\"C’est pas bon\",\"à table, tarte\",\"seli, arthur\",\"- C'est pas la peine de faire des ronds de jambe, si c'est pas bon vous avez qu'à le dire\\n- C’est pas bon.\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=5Jq2qA_NHSw\",\"La pâte est probablement un peu sèche\",\"à table, tarte\",\"guenievre, leodagan\",\"- La pâte est probablement un peu sèche...\\n- Oui, probablement, ça doit jouer !\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=-Gysx6B4XYY\",\"Tant que vous ne nous obligez pas à les manger\",\"à table, tarte\",\"seli, leodagan\",\"- J’ai envie de faire des tartes, voilà. Vous n’allez pas m’obliger à m’justifier ?\\n- Ah ben non, tant que vous ne nous obligez pas à les manger !\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=k1R3fgHNlYg\",\"J’ai toujours rêvé de faire des tartes\",\"à table, tarte\",\"seli, arthur\",\"- J'ai toujours rêvé de faire des tartes pour mes petits-enfants, seulement des petits-enfants y'en a pas, ils arrivent jamais. J'attends, j'attends, rien !\\n- Si vous les accueillez avec ça, ils sont pas prêts d’arriver.\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=tAPgtmmh9gA\",\"Mais oui mon p’tit père faudra bien vous y coller\",\"à table, tarte\",\"seli, leodagan\",\"- Mais oui mon p’tit père faudra bien vous y coller, à moins que vous préfériez vous taper les tartes !\\n- C’est dingue cette histoire ! C’est pas parce que vous faîtes des tartes pour des p’tits enfants qui existent pas que j’dois les emmener à la pêche non !\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=aNIp1A-HHuc\",\"C’est du patrimoine ça\",\"à table, tarte\",\"seli, arthur, guenievre\",\"- C'est pourtant avec ça qu'on leur fait des souvenirs aux petits. La pêche, les tartes, tout ça c'est du patrimoine.\\n- C’est du patrimoine, ça ?\\n- Enfin moi j’sais pas si j’leur laisserai manger ça, à mes enfants…\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=CkIGO6lKA5s\",\"Je vous demande pas non plus de manger des briques\",\"à table, tarte\",\"seli, leodagan\",\"- Non mais n'exagérez pas non plus, je vous demande quand même pas de manger des briques.\\n- Sans vouloir la ramener, la seule différence concrète avec des briques, c’est que vous appelez ça des tartes !\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=GZoGXiSQMTA\",\"Et vous allez varier la pâte aussi\",\"à table, tarte\",\"seli, leodagan, arthur\",\"- Voulez dire qu'vous allez en r'faire ?\\n- Tous les jours !\\n- Tous les jours ?\\n- Non mais j’vais varier les fruits, vous inquiétez pas.\\n- Et vous allez varier la pâte aussi ?\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=RU8asrALX44\",\"Ou une fissure à colmater dans un muret\",\"à table, tarte\",\"seli, leodagan, arthur\",\"- Attendez... au cas où vous ayez un creux dans l'après-midi...\\n- Oui, ou une fissure à colmater dans un muret…\\n- Bon ben ça va, on plaisante !\\n- On plaisante, on plaisante…\",\"L1T1E02 Les tartes aux myrtilles\"],[\"https://www.youtube.com/watch?v=nyBq3Adj1SE\",\"Encore une chance qu’on se soit pas fait construire un buffet à vaisselle\",\"table ronde\",\"leodagan\",\"Encore une chance qu’on se soit pas fait construire un buffet à vaisselle.\",\"L1T1E03 La table de Breccan\"],[\"https://www.youtube.com/watch?v=V5aNVRTzoik\",\"Vous bilez pas, même nous on n’a pas tout compris\",\"table ronde\",\"karadoc, perceval, breccan\",\"- Ben dites donc, ah la quete du…\\n- C’est un peu compliqué\\n- Vous binez pas, même nous on n’a pas tout compris\",\"L1T1E03 La table de Breccan\"],[\"https://www.youtube.com/watch?v=sZnJ38pAshw\",\"Ça sent pas la réunion de bouseux votre histoire\",\"table ronde\",\"perceval, breccan\",\"- Un peu de tout mais quand même des chevaliers. ‘Fin je veux dire c’est, ça sent pas la réunion de bouseux votre histoire.\\n- Ah non non, y’a pas d’pécore pour la quête du Graal. ‘Fin, à moins qu’ça ait changé ?\",\"L1T1E03 La table de Breccan\"],[\"https://www.youtube.com/watch?v=wxlGsU9Mls0\",\"C’est carré carré chez vous\",\"table ronde\",\"breccan\",\"C’est carré carré chez vous, hein.\",\"L1T1E03 La table de Breccan\"],[\"https://www.youtube.com/watch?v=S_aD3BgiJnw\",\"Allez zou j’me sauve\",\"table ronde\",\"damedulac\",\"Bon, allez zou je m’sauve moi et [bise bruyante] félicitations [autre bise] pour la table.\",\"L1T1E03 La table de Breccan\"],[\"https://www.youtube.com/watch?v=5MbLjX3bp18\",\"Ça vous emmerde c’que j’raconte\",\"Réunion table ronde chevaliers\",\"arthur, perceval\",\"- Ça vous emmerde c'que j'raconte ?\\n- Euh… non non !\\n- Bon. Sinon hésitez pas hein…\",\"L1T1E04 Le chevalier mystère\"],[\"https://www.youtube.com/watch?v=fxftSEv64DU\",\"Ça fait vraiment bidon comme légende\",\"Réunion table ronde chevaliers\",\"lancelot\",\"Alors là permettez-moi de vous dire : le coup du mystérieux chevalier gaulois solitaire à la rescousse de l’opprimé, ça fait vraiment bidon comme légende.\",\"L1T1E04 Le chevalier mystère\"],[\"https://www.youtube.com/watch?v=Xy_mGDPhlCY\",\"Un chevalier solitaire dont tout le monde parle\",\"Réunion table ronde chevaliers\",\"karadoc, lancelot\",\"- Un chevalier solitaire dont tout le monde parle, et qui s'appelle pas Lancelot du Lac...\\n- Dont tout le monde parle ? Pff… Ah non, s’il vous plaît.\",\"L1T1E04 Le chevalier mystère\"],[\"https://www.youtube.com/watch?v=508q2VDVE2Y\",\"Moi je passe pas mal de temps à la taverne\",\"Réunion table ronde chevaliers\",\"perceval\",\"Ah bon ? Moi j’passe pas mal de temps à la taverne, j’ai jamais entendu parler d’celui-là.\",\"L1T1E04 Le chevalier mystère\"],[\"https://www.youtube.com/watch?v=vyvGVcDqZps\",\"Vous êtes gallois\",\"Réunion table ronde chevaliers\",\"perceval, bohort\",\"- Ben j’sais pas c’qui vous faut, j’suis d’Caerdydd\\n- Mais… c’est au Pays de Galles, Caerdydd… Vous - vous êtes gallois\\n- Ben, c’est bien c’que j’ai dit… Provençal le Gaulois… le gallois… ouais j’vois c’que vous voulez dire.\",\"L1T1E04 Le chevalier mystère\"],[\"https://www.youtube.com/watch?v=cICikfsAtbw\",\"Provencal c’est mon nom\",\"Réunion table ronde chevaliers\",\"perceval, arthur, bohort\",\"- Sans vouloir abuser, il m'semble pas qu'vous soyez provençal non plus ?\\n- Non, Provençal c’est mon nom.\\n- Per-ce-val.\\n- Perceval, ouais, qu’est-ce que j’ai dit ?\\n- Provençal.\\n- Non non, Perceval. J’me suis gourré.\",\"L1T1E04 Le chevalier mystère\"],[\"https://www.youtube.com/watch?v=7LWCRZxUIew\",\"Pas foutu d’savoir son nom\",\"Réunion table ronde chevaliers\",\"arthur\",\"Pas foutu d’savoir son nom…\",\"L1T1E04 Le chevalier mystère\"],[\"https://www.youtube.com/watch?v=ehyr9hRcxHY\",\"Et ça c’est pas une légende\",\"Réunion table ronde chevaliers\",\"arthur\",\"Tout le monde s’accorde à dire que c’est une tanche, et ça c’est pas une légende !\",\"L1T1E04 Le chevalier mystère\"],[\"https://www.youtube.com/watch?v=5iBQA6CbdWs\",\"C’est quand même pas d’bol\",\"Réunion table ronde chevaliers\",\"leodagan\",\"C’est quand même pas d’bol pour lui hein, parce que les rares fois où il arrive à faire quelque chose de ses dix doigts, il se gourre quand on lui demande son nom…\",\"L1T1E04 Le chevalier mystère\"],[\"https://www.youtube.com/watch?v=f2dwP_GvSp8\",\"En Provence à l’heure qu’il est…\",\"Réunion table ronde chevaliers\",\"leodagan, arthur, perceval\",\"- En Provence à l’heure qu’il est ils doivent être drôlement fier de l’enfant du pays, hein\\n- J’pense bien, surtout qu’les enfants du pays de Provence qui sont nés à Caerdydd ça doit pas courir les rues\\n[silence]\\n- N’empêche que j’suis une légende !\",\"L1T1E04 Le chevalier mystère\"],[\"https://www.youtube.com/watch?v=rbUB8FeI694\",\"Jo le Rigolo\",\"Salle du trône, Attila le hun\",\"leodagan, bohort\",\"- Ah c'est sûr que c'est pas Jo le Rigolo...\\n- Jo le Rigolo ?\",\"L1T1E05 Le fléau de Dieu\"],[\"https://www.youtube.com/watch?v=CVyQTchn20Y\",\"Y’a pas d’herbe dans la salle du trône\",\"Salle du trône, Attila le hun\",\"arthur\",\"Y’a pas d’herbe dans la salle du trône. Allez.\",\"L1T1E05 Le fléau de Dieu\"],[\"https://www.youtube.com/watch?v=UCsgeEYvS2E\",\"J’ai pas envie de finir empalé au sommet d’une colline\",\"Salle du trône, Attila le hun\",\"bohort\",\"Mais peu importe ! J’ai pas envie de finir empalé au sommet d’une colline !\",\"L1T1E05 Le fléau de Dieu\"],[\"https://www.youtube.com/watch?v=Ur2XbgKRnJo\",\"Aaaaaaaah !\",\"Salle du trône, Attila le hun, cri\",\"attila\",\"Aaaaaaaaaaaaah !\",\"L1T1E05 Le fléau de Dieu\"],[\"https://www.youtube.com/watch?v=YfWXoBEIbd8\",\"Un lapin de garenne et puis ça repart\",\"Salle du trône, Attila le hun\",\"leodagan\",\"Ouais, vous pouvez pas comprendre, vous passez votre vie à cheval. Un feu de bois, un lapin de garenne et puis ça repart…\",\"L1T1E05 Le fléau de Dieu\"],[\"https://www.youtube.com/watch?v=Ciunaas62UE\",\"C’est pas Byzance\",\"Salle du trône, Attila le hun\",\"arthur, leodagan\",\"- Ou alors faudrait demander un soutien à Rome... m'enfin Rome en ce moment...\\n- Ah oui, c’est pas Byzance\\n- Byzance, oui, y’a du pognon ! Enfin… j’les connais pas les mecs, moi.\",\"L1T1E05 Le fléau de Dieu\"],[\"https://www.youtube.com/watch?v=k5rhDuwDxYE\",\"Donnez-nous les femmes\",\"Salle du trône, Attila le hun\",\"attila, arthur, leodagan\",\"- Alors les femmes !\\n- Les femmes ? Quoi, les femmes ?\\n- Donnez-nous les femmes !\\n- Bah euh pfff… Faut voir… Enfin ça dépend lesquelles quoi...\\n- Tout les femmes !\\n- Ah, non, toutes les femmes non.\",\"L1T1E05 Le fléau de Dieu\"],[\"https://www.youtube.com/watch?v=NWUjyYsZFVg\",\"On ne va pas lui donner le linge de maison\",\"Salle du trône, Attila le hun\",\"arthur, bohort\",\"- Sire, on ne va pas lui donner le linge de maison ! Des étoffes ouvragées aux motifs celtiques d'une qualité exceptionnelle !\\n- Non, le linge de maison, non ; on le garde.\",\"L1T1E05 Le fléau de Dieu\"],[\"https://www.youtube.com/watch?v=-h1rMhGR2gA\",\"Typique, typique…\",\"Salle du trône, Attila le hun, cri\",\"arthur, attila\",\"- Typique, typique… Non moi j'suis désolé, j'vois pas c'qu'on peut vous donner là...\\n- Aaahaaaah !\\n- Oui non mais d’accord, mais…\",\"L1T1E05 Le fléau de Dieu\"],[\"https://www.youtube.com/watch?v=FCx5C-9iivE\",\"Allez-y mollo avec la joie\",\"\",\"bohort, arthur\",\"- [...] c'est la plus belle chose qui soit \\n[Bohort étreint son roi et l’embrasse sur la joue – s’ensuit un silence gêné]\\n- E-excusez-moi, c’est la joie…\\n- Allez-y mollo avec la joie.\",\"L1T1E06 Le garde du corps\"],[\"https://www.youtube.com/watch?v=WeEHIK4qB5Q\",\"Si vous sentez qu’il s’énerve un peu\",\"Garde du corps\",\"lancelot\",\"Si vous sentez qu’il s’énerve un peu, hein, vous lui sortez un morceau de viande crue et… AH ! Gnn… Tu lâches ! Tu…\",\"L1T1E06 Le garde du corps\"],[\"https://www.youtube.com/watch?v=BgYYb_bQyuI\",\"Qu’est-ce qu’on fait on le fait quand même\",\"Garde du corps, maîtresses\",\"demetra, arthur, grudu\",\"- Bon qu’est-ce qu’on fait alors ? On le fait quand même ?\\n- Non mais sûrement pas ! Non mais ça va bien, oui ?\\n- Écoutez, ça fait deux semaines qu’on s’est pas vus...\\n- Recule ! Recule, ou j’te sors les boyaux !\",\"L1T1E06 Le garde du corps\"],[\"https://www.youtube.com/watch?v=2FkY2VhvV50\",\"Mais personne vous frôlera de toute façon\",\"Garde du corps, maîtresses\",\"arthur, grudu\",\"- Alors si j'comprends bien va falloir qu'je fasse attention pendant deux jours à ce que personne me frôle dans les couloirs !\\n- Mais personne vous frôlera parce que j’lui aurai pété sa tête avant !\",\"L1T1E06 Le garde du corps\"],[\"https://www.youtube.com/watch?v=5KJZl6zmnGI\",\"Vous seriez obligé de choisir une autre reine\",\"Garde du corps, maîtresses\",\"grudu, demetra\",\"- Si la Reine essaie d'vous toucher, j'lui bousille sa gueule.\\n[silence]\\n- Ce serait bête… Du coup, vous seriez obligé de choisir une autre reine.\",\"L1T1E06 Le garde du corps\"],[\"https://www.youtube.com/watch?v=TzlN5MqOp0Y\",\"Des liens se créent\",\"Garde du corps, maîtresses\",\"grudu, arthur\",\"- Attendez l’affectif ça joue aussi ! À force d’être ensemble, des liens se créent, c’est obligé.\\n- Des liens se créent ? Mais qu’est-ce qu’il me raconte… Vous me filez le train depuis deux heures de l’après-midi !\",\"L1T1E06 Le garde du corps\"],[\"https://www.youtube.com/watch?v=Oey1f4gLCZ0\",\"Un morceau de viande !\",\"Garde du corps, maîtresses\",\"arthur\",\"- Eh oui... je m'menace il faudrait m'buter mais vous avez pas l'droit d'me toucher... Aaaah ? Hein ?\\n[grognements du garde du corps]\\n- Non, non ça va, calmez-vous, c’est pour déconner… \\n[les grognements s’intensifient]\\n- C’est pour déconner ça va ! C’était une connerie, oh ! Tiens, euh, un morceau d’viande, un morceau d’viande, un morceau d’viande, un morceau d’viande !\\n[machouillements et bruits de succion]\",\"L1T1E06 Le garde du corps\"],[\"https://www.youtube.com/watch?v=4p7KlSZ0sro\",\"Putain ça va être long deux jours\",\"Garde du corps, maîtresses\",\"arthur\",\"Putain, ça va être long deux jours...\",\"L1T1E06 Le garde du corps\"],[\"https://www.youtube.com/watch?v=r70wl1s6mvw\",\"C’est pas désagréable de se sentir protégé\",\"Garde du corps, chambre à coucher\",\"arthur\",\"Ouais non j’ai… j’ai pas l’droit parce qu’il y a le traité de paix, tout ça là… J’suis… j’suis désolé hein.\\n[temps d’arrêt pendant lequel arthur lance encore de la viande au garde du corps]\\nEn fait c’est pas désagréable de se sentir protégé…\",\"L1T1E06 Le garde du corps\"],[\"https://www.youtube.com/watch?v=cMMWIW9QxEU\",\"Hé ben nous ce qui compte c’est que ça chante\",\"à table\",\"leodagan, guenievre\",\"- (en parlant des espions) Non ce qui compte c'est ce qu'ils disent.\\n- Hé ben nous ce qui compte c’est qu’ça chante !\",\"L1T1E07 Des nouvelles du monde\"],[\"https://www.youtube.com/watch?v=_VfMJBBQLoc\",\"Gnian gnian gnian\",\"Barde, chanson, à table\",\"barde\",\"[divers sons incompréhensibles de la part du barde qui termine sa chanson]\",\"L1T1E07 Des nouvelles du monde\"],[\"https://www.youtube.com/watch?v=fH5lo0r990U\",\"C’est le fond sonore qu’est agréable\",\"Barde, à table\",\"guenievre\",\"C’est l’fond sonore qu’est agréable !\",\"L1T1E07 Des nouvelles du monde\"],[\"https://www.youtube.com/watch?v=atgsQOOQb98\",\"Allez-y roulez roulez\",\"Barde, à table\",\"barde, guenievre\",\"- J'enchaîne ?\\n- Allez-y, roulez roulez !\",\"L1T1E07 Des nouvelles du monde\"],[\"https://www.youtube.com/watch?v=jvY1wP5gp_s\",\"Vous en avez encore beaucoup du sensationnel comme ça\",\"Barde, chanson, à table\",\"barde, arthur\",\"- Berger de Calédonie, mena bête sous rude orage, dut attendre bien à l'abri, que s'enfuient les gros nuages, gnian gnian gnian.\\n- Vous en avez encore beaucoup du sensationnel, comme ça ?\",\"L1T1E07 Des nouvelles du monde\"],[\"https://www.youtube.com/watch?v=UNFBKdL4JdU\",\"Ils l’ont foutu dehors sans un bout de fromage\",\"Barde, à table\",\"barde, arthur\",\"- De, de quoi ? Qu'est-ce que vous avez dit ?\\n- Que… Ah ben, ils l’ont foutu dehors sans un bout d’fromage ces cons !\",\"L1T1E07 Des nouvelles du monde\"],[\"https://www.youtube.com/watch?v=5ZBV4jS60Fs\",\"Essayez de vous souvenir bon Dieu\",\"Barde, à table\",\"barde, arthur\",\"- Mais essayez de vous souvenir bon Dieu ! (chantant) Le Roi Loth nana nana na...\\n- Le… (essayant de souvenir) Le roi Loôôô… Ahem… Pou-pour ses funérailles… Ah bah, ben écoutez de… dîtes je sais p… Bon ben de toute façon j’ai fini là.\",\"L1T1E07 Des nouvelles du monde\"],[\"https://www.youtube.com/watch?v=DbAsbshIfbI\",\"Je vais commencer par les crudités\",\"Barde, à table\",\"barde\",\"- J'vais commencer par les crudités moi... si ça vous dérange pas.\",\"L1T1E07 Des nouvelles du monde\"],[\"https://www.youtube.com/watch?v=lDKdvzmv9Io\",\"Laissez-le enfin il a même pas mangé\",\"Barde, à table\",\"guenievre, arthur\",\"- Laissez-le enfin ! Il a même pas mangé !\\n- Si le Roi Loth est mort, je vous garantis que ça a des importances un peu plus grandes que les crudités !\",\"L1T1E07 Des nouvelles du monde\"],[\"https://www.youtube.com/watch?v=63lj6abED5A\",\"Parti sans pain et sans fruit\",\"Barde, chanson, à table\",\"barde, arthur\",\"- [...] parti sans pain et sans fruit... D'ailleurs j'vous préviens c'est comme moi hein ! Si vous me laissez partir sans manger, dans une semaine y'a une chanson sur vous !\\n- La suite bon Dieu !\",\"L1T1E07 Des nouvelles du monde\"],[\"https://www.youtube.com/watch?v=EBSteC1WvwU\",\"Je l’ai perdu je l’ai perdu\",\"Barde, chanson, à table\",\"barde\",\"- (cherchant toujours ses paroles) du prince... (haletant) du rrr-roi (soupir) j'l'ai perdu... j'l'ai perdu... Je l'ai perdu.\",\"L1T1E07 Des nouvelles du monde\"],[\"https://www.youtube.com/watch?v=nGOrCzR9oIs\",\"Quand je chante que vous êtes mort\",\"Barde, à table\",\"barde\",\"Moi je passe avec le chapeau… normalement. Tenez, vous, qui êtes bien populaire : quand je chante que vous êtes mort, et ben j’vous raconte pas c’qui tombe !\",\"L1T1E07 Des nouvelles du monde\"],[\"\"]]","<template>\n  <h1>\n    <figure><img :src=\"Perceval\" alt=\"Perceval\"/></figure>\n    {{ trans('app_title') }}\n  </h1>\n  <router-view></router-view>\n</template>\n\n<script>\nimport Perceval from '@/assets/perceval.png'\nimport {useStore} from \"@/store/store\"\nimport {trans} from '@/lib/functions/trans'\n\nexport default {\n  name: 'App',\n  components: {\n  },\n  data() {\n    return {\n      Perceval\n    }\n  },\n  methods: {\n    trans\n  },\n  setup() {\n    return {store: useStore()}\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '~@/assets/scss/global';\n\nh1 {\n  @include kaamelott;\n  font-size: 3rem;\n\n  &, figure {\n    vertical-align: middle;\n  }\n\n  figure {\n    overflow: hidden;\n    border-radius: 100px;\n\n    &:after {\n      position: absolute;\n      content: '';\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      border-radius: 100%;\n      box-shadow: -3px 3px 10px 3px black inset;\n    }\n  }\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: auto;\n  padding: 30px 15px 15px;\n  background: linear-gradient(0deg, rgba(255,255,255,0.7), rgba(255,255,255,0.7)),\n  url('assets/kaamelott.jpg') no-repeat center fixed;\n  background-size: cover;\n  position: absolute;\n  width: 100%;\n  min-height: 100%;\n  overflow: hidden;\n}\n\n#videos {\n  margin: auto;\n}\n</style>\n","import translations_fr from './fr.json'\n\n/**\n * Use this to record additional translations\n */\nexport default {\n    fr: translations_fr,\n}","import sha1 from 'sha1'\n\nconst slugify = require('slugify')\n\n/**\n * Normalize string using slugify, lowercase and removing unnecessary hyphens\n * @param text\n * @returns {string}\n */\nexport function lcSlug(text) {\n    return slugify(('-' + text + '-')\n        .replace(/,/g, '-'))\n        .toLowerCase()\n        .replace(/-+/g, '-')\n}\n\nconst initialWorkingSet = {}\n\nexport const availableSorts = {\n    'score': (sort) => (a, b) => sort * (b.score - a.score),\n    'ab': (sort) => (a, b) => sort * a.title.localeCompare(b.title),\n    'chrono': (sort) => (a, b) => sort * a.episode.localeCompare(b.episode),\n    'random': () => () => .5 - Math.random()\n}\n\nexport default {\n    /**\n     * Returns a filtered set of object according to fulltext search on one field and/or exact match on many fields\n     * @param searchText words to look for (string.length < 3 for no fulltext)\n     * @param objectSet set of object to look in\n     * @param requiredFields object like {requiredFieldName: neededValue, ...} - leave blank for no search\n     * @param order {string} order type, in {availableSorts}\n     * @param sort {string} asc|desc\n     * @param searchField field to look into for fulltext search, default 'keywords'\n     * @param scoreRequired {Number} object score required to be returned - should be > 0\n     * @returns {*}\n     */\n    search(searchText, objectSet, requiredFields = {}, order = 'score', sort = 'asc',\n           searchField = 'keywords', scoreRequired = .2) {\n        const hash = sha1(JSON.stringify(objectSet))\n\n        if (!initialWorkingSet[hash]) {\n            initialWorkingSet[hash] = []\n            // make a first copy of objectSet with items having keywords field\n            objectSet.map((x, i) => {\n                if (x[searchField] && x[searchField].length) {\n                    initialWorkingSet[hash][i] = {...x, keywords: x[searchField]}\n                }\n            })\n            if (!initialWorkingSet[hash].length) {\n                delete initialWorkingSet[hash]\n                console.error('Object set must have a `keyword` field to be searched in.')\n                return objectSet\n            }\n        }\n\n        // set score=0 (or 1 if no search) and normalize keywords\n        let workingSet = initialWorkingSet[hash].map(x => {\n                x.score = (searchText.length >= 3) ? 0 : 1\n                x.keywords = lcSlug(x.keywords)\n                return x\n            }\n        )\n\n        if (searchText.length >= 3) {\n            searchText = lcSlug(searchText)\n            // set score to arbitrary \"max\" score if exact match\n            const maxScore = searchText.length\n            let keywordsLengthMean = 0\n            workingSet.map(\n                x => {\n                    keywordsLengthMean += x.keywords.length\n                    if (x.keywords.indexOf(searchText) > -1) {\n                        x.score += maxScore\n                    }\n                }\n            )\n\n            keywordsLengthMean /= workingSet.length\n\n            for (let word of searchText.split(/-/g)) {\n                workingSet.map(\n                    x => {\n                        // no need to deep search if score already maxed\n                        if (x.score >= maxScore) {\n                            return\n                        }\n\n                        let done = false\n                        let scoreModifier = 1\n                        do {\n                            let found = x.keywords.indexOf(word) > -1\n                            x.score +=\n                                scoreModifier\n                                // negative score if not found\n                                * (found ? 1 : (-1 / word.length))\n                                //\n                                * (\n                                    // word pertinence according to search length and document corpus\n                                    word.length\n                                    / (searchText.length * (x.keywords.length / keywordsLengthMean))\n                                )\n                            // allow to search partial word longer than 4 if not found\n                            if (!found && word.length > 4) {\n                                word = word.substr(0, word.length - 1)\n                                // partial search will give lesser score\n                                scoreModifier *= (1 - 1 / word.length)\n                                continue\n                            }\n                            done = true\n                        }\n                        while (!done)\n                    }\n                )\n            }\n        }\n\n        for (let field in requiredFields) {\n            const value = requiredFields[field]\n            if (field.length) {\n                workingSet.map(\n                    x => {\n                        if (!x.score) {\n                            return\n                        }\n                        if (!x[field]) {\n                            x.score = 0\n                            return\n                        }\n\n                        const array = (x[field] instanceof Array) ? x[field] : [x[field]]\n\n                        x.score *= (array.reduce(function (prevVal, currVal, idx) {\n                                return idx === 0 ? currVal : prevVal + ', ' + currVal;\n                            }, ''\n                        ).indexOf(value) >= 0)\n                    }\n                )\n            }\n        }\n\n        const result = workingSet.filter(x => x.score > scoreRequired)\n        result.sort(\n            (availableSorts[order] ?? availableSorts['score'])(\n                (sort === 'asc') ? 1 : -1\n            )\n        )\n        return result\n    }\n}\n\n","/**\n * VideoLoader definition for managing video links\n */\nexport class Adapter {\n    /**\n     * @param type adapter type\n     * @param matchingFunction\n     * @param getEmbedUriFunction\n     * @param getThumbnailFunction\n     */\n    constructor(type, matchingFunction, getEmbedUriFunction, getThumbnailFunction) {\n        this.type = type\n        this.matches = matchingFunction\n        this.getEmbedUri = getEmbedUriFunction\n        this.getThumbnail = getThumbnailFunction\n    }\n\n    /**\n     * Stub function\n     * @param parsedUri\n     * @returns {boolean}\n     */\n    matches(parsedUri) { return parsedUri.domain === false}\n\n    /**\n     * Stub function\n     * @param parsedUri\n     * @returns {string}\n     */\n    getEmbedUri(parsedUri, obj = {}){ obj; parsedUri; return parsedUri.file }\n\n    /**\n     * Stub function\n     * @param data\n     * @returns {string}\n     */\n    getThumbnail(data) {return data}\n}","import {lcSlug} from \"@/lib/FullTextSearch\";\nimport {Adapter} from \"@/lib/VideoManager/adapters/Adapter\";\nimport sha1 from 'sha1'\n\n// query string parser\nconst qs = require('qs')\n\n/**\n *\n * @type {object}\n */\nconst VideoManager = {\n    /**\n     * registered adapters\n     */\n    supportedTypes: {},\n    /**\n     * list of videos\n     */\n    videos: [],\n    /**\n     * list of episodes\n     */\n    episodes: {},\n    /**\n     * Loader used to fetch videos and other data\n     * @type VideoLoader\n     */\n    videoLoader: null,\n    /**\n     * Register video adapter(s) to manage video sources\n     * @param adapters list of adapters\n     */\n    registerAdapters(...adapters) {\n        for (let adapter of adapters) {\n            if (!(adapter instanceof Adapter)) {\n                continue\n            }\n            this.supportedTypes[adapter.type] = adapter\n        }\n    },\n    /**\n     * Return video list in JSON\n     * @returns {string}\n     */\n    toJSON() {\n        return JSON.stringify(this.videos)\n    },\n    /**\n     * @param index\n     * @param video {Video}\n     * @param embedParameters list of html parameters for iframe\n     * @return Object video representation\n     */\n    addVideo(index, video, embedParameters = {\n        frameborder: \"0\",\n        allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n    }) {\n\n        let {link, keywords, episode, title, characters, script, id} = video.expose()\n        if (this.videos.filter(v => v.id === id).length) {\n            return\n        }\n        // remove trailing spaces\n        link = link.replace(/(\\s+)|(\\s+$)/g, '')\n        // default embed params\n        const params = {width: 720, height: 405, allowfullscreen: true, ...embedParameters}\n        // join all text in keywords field for full text search\n        keywords = [episode, keywords, title, characters.join(','), script].join(',')\n            .replace(/[ ,;.]+/g, ',').replace(/,$/, '')\n        // get episode number\n        let episodeNumber = episode.split(' ', 1).join('')\n        let videoObject = {\n            index,\n            id,\n            hash: sha1(link),\n            link,\n            ...this.getEmbedCode(link, params),\n            title,\n            keywords: lcSlug(keywords),\n            script,\n            characters,\n            episode: episodeNumber,\n            episodeTitle: episode.replace(new RegExp('^' + episodeNumber + '\\\\s+'), '')\n        }\n        this.videos.push(videoObject)\n        return video\n    },\n    /**\n     * Add episode to episode list if not present\n     * @param episodeStr\n     */\n    addEpisode(episodeStr) {\n        const nested = episodeStr.match(/^(L[0-9])(T[0-9])(E[0-9]+)\\s(.*)$/)\n        let upper = this.episodes\n        for (let i = 1; i < nested.length; i++) {\n            if (!upper[nested[i]]) {\n                upper[nested[i]] = {}\n            }\n            if (i === 3) {\n                upper[nested[3]] = nested[4]\n                break\n            }\n            upper = upper[nested[i]]\n        }\n    },\n    /**\n     * Return parsedUri\n     * @param string\n     * @returns {{subdomains: *, path: *, file: *, domain: string, query: QueryString.ParsedQs, match: *, hash: QueryString.ParsedQs}}\n     */\n    uriMatcher(string) {\n        const matches = string.match(/^https?:\\/\\/((?:[a-z0-9\\-_]+\\.)+)([a-z0-9\\-_]+)\\/((?:[a-z0-9\\-_%.]+\\/)?)([a-z0-9\\-_%.]+\\/?)((?:\\?.+)?)((?:#.*)?)$/i)\n\n        matches[1] = matches[1].replace(/\\.$/, '')\n\n        return {\n            match: matches[0],\n            subdomains: ((array) => array.slice(0, array.length - 1))(matches[1].split('.')),\n            domain: [((array) => array[array.length - 1])(matches[1].split('.')), matches[2]].join('.'),\n            path: matches[3],\n            file: matches[4],\n            query: qs.parse(matches[5].replace(/^\\?/, '')),\n            hash: qs.parse(matches[6].replace(/^#/, ''))\n        }\n    },\n    /*\n    isIFrame(string) {\n        string\n        // todo return iframe\n        return false\n    },\n    isLocalFile(string) {\n        string\n        // todo return local file\n        return false\n    },\n    */\n    /**\n     * Returns embed code from string (uri)\n     * @param string\n     * @param parameters\n     * @returns {{thumbnail: string, embedCode: string, type: boolean, autoplay: string}}\n     */\n    getEmbedCode(string,\n                 parameters = {}) {\n        let parsed = this.uriMatcher(string)\n        /*\n        if (!parsed) {\n            // TODO check local file\n\n            if (false === this.isLocalFile(parsed.file)) {\n                throw new Error(string + ' should be either link to video either iframe')\n            }\n\n            if (false === this.isIFrame(string)) {\n                throw new Error(string + ' should be either link to video either iframe')\n            }\n\n        }\n        */\n        let embedUri = false\n        let currentType = false\n        let parsedObj = {}\n\n        // check video type using registered adapters\n        for (let typeName in this.supportedTypes) {\n            let type = this.supportedTypes[typeName]\n            if (type.matches(parsed)) {\n                embedUri = type.getEmbedUri(parsed, parsedObj)\n                currentType = typeName\n                break\n            }\n        }\n\n        if (embedUri === false) {\n            throw new Error('URI not supported or type not correctly implemented')\n        }\n\n        const autoplayProps = [], props = []\n\n        props.push('src=\"' + embedUri + '\"')\n        autoplayProps.push('src=\"' + parsedObj.autoplay + '\"')\n\n        for (let prop in parameters) {\n            props.push(prop + '=\"' + parameters[prop] + '\"')\n            autoplayProps.push(prop + '=\"' + parameters[prop] + '\"')\n        }\n\n        return {\n            type: currentType,\n            embedCode: `<iframe ${props.join(' ')}></iframe>`,\n            autoplay: `<iframe ${autoplayProps.join(' ')}></iframe>`,\n            thumbnail: this.supportedTypes[currentType].getThumbnail(parsedObj.videoId)\n        }\n    }\n}\n\nexport default VideoManager","import {Adapter} from \"@/lib/VideoManager/adapters/Adapter\"\n\nconst youtubeEmbed = 'https://www.youtube.com/embed/'\n\nconst youtubeAutoplay = function (embed) {\n    return embed + (embed => (embed.indexOf('?') > -1) ? '&' : '?')(embed) + 'autoplay=1'\n}\n\nconst youtubeThumbnail = function () {\n    return function (videoId) {\n        return `https://img.youtube.com/vi/${videoId}/0.jpg`\n    }\n}\n\n/**\n * Youtube long url\n * @type {Adapter}\n */\nexport const youtubeLong = new Adapter(\n    'youtube',\n    function (parsedUri) {\n        return parsedUri.domain === 'youtube.com'\n    },\n    function (parsedUri, obj = {}) {\n        obj.videoId = parsedUri.query['v']\n        const embed = youtubeEmbed + obj.videoId\n        obj.autoplay = youtubeAutoplay(embed)\n        return embed\n    },\n    youtubeThumbnail()\n)\n\n/**\n * Youtube short url\n * @type {Adapter}\n */\nexport const youtubeShort = new Adapter(\n    'youtu.be',\n    function (parsedUri) {\n        return parsedUri.domain === 'youtu.be'\n    },\n    function (parsedUri, obj = {}) {\n        obj.videoId = parsedUri.file\n        const embed = youtubeEmbed + obj.videoId\n        obj.autoplay = youtubeAutoplay(embed)\n        return embed\n    },\n    youtubeThumbnail()\n)\n","// static videoLoader types\nimport VideoManager from \"@/lib/VideoManager/VideoManager\";\n\nexport const VideoLoaderTypes = {\n    get local() {\n        return 'local'\n    },\n    get remote() {\n        return 'remote'\n    }\n}\n\n// abstract video loader\nexport class VideoLoader {\n\n    #_type\n    #_url\n    #_fetch\n    #_match\n    videoManager\n\n    // type: local / remote\n    get type() {\n        return this.#_type\n    }\n\n    // endpoint or null\n    get url() {\n        return this.#_url\n    }\n\n    /**\n     * Checks if loader is local\n     * @returns {boolean} true if local loader, false otherwise\n     */\n    isLocal() {\n        return this.type === VideoLoaderTypes.local\n    }\n\n    /**\n     * @param fetchMethod {function(parameters: {}, callback: {function(video: Video, index: Number)}, next: {function} )}\n     * @param matchMethod {function({string?} url)}\n     * @param type {string} VideoLoaderType.local or VideoLoaderType.remote\n     */\n    constructor(fetchMethod = () => {\n    }, matchMethod = () => {\n        return false\n    }, type = VideoLoaderTypes.remote) {\n        this.#_fetch = fetchMethod\n        this.#_match = matchMethod\n        this.#_type = type\n        this.videoManager = VideoManager\n    }\n\n    /**\n     * Create video object sent to cbFn\n     * @param parameters\n     * @param next {function(VideoLoader)}\n     * @returns {*}\n     */\n    fetch(parameters, next) {\n        if (!this.url && this.#_type !== VideoLoaderTypes.local) {\n            console.error('No URL provided')\n        }\n        return this.#_fetch(parameters, next)\n    }\n\n    /**\n     * Returns true if adapter match backend type\n     * @param backendUrl\n     * @returns {boolean}\n     */\n    match(backendUrl) {\n        if (this.#_match(backendUrl)) {\n            this.#_url = backendUrl\n            return true\n        }\n        return false\n    }\n}\n","let lineNumber = 1\n\nexport class Video {\n    #_id\n    #_citation\n    #_name\n    #_url\n    #_duration\n    #_thumbnailUrl\n    #_autoplay\n    #_partOfEpisode\n    #_characters\n    #_tags\n\n    /**\n     *\n     * @param id\n     * @param citation\n     * @param name\n     * @param url\n     * @param duration\n     * @param thumbnailUrl\n     * @param autoplay\n     * @param partOfEpisode\n     * @param characters\n     * @param tags\n     */\n    constructor(\n        {\n            id, citation, name, url, duration = 0, thumbnailUrl = null, autoplay = null,\n            partOfEpisode, characters, tags = ''\n        }) {\n        this.#_id = id || this.error(id, 'Missing id for video ', arguments)\n        this.#_citation = citation || this.error(citation, `Missing script for video ${id}`)\n        this.#_name = name || this.error(name, `Missing title for video ${id}`)\n        this.#_url = url || this.error(url, `Missing url for video ${id}`)\n        this.#_duration = duration || this.error(duration, `Missing duration for video ${id}`,\n            null, 'warn')\n        this.#_thumbnailUrl = thumbnailUrl\n        this.#_autoplay = autoplay\n        this.#_partOfEpisode = partOfEpisode || this.error(partOfEpisode, `Missing episode for video ${id}`)\n        this.#_characters = (characters instanceof Array)\n            ? characters\n            : this.error(characters, `Missing characters for video ${id}`)\n        this.#_tags = tags\n    }\n\n    error(field, message, additionalInfo = null, level = 'error') {\n        console[console[level] ? level : 'error'](message)\n        if (additionalInfo) {\n            console.info(additionalInfo)\n        }\n        return field\n    }\n\n    get partOfEpisode() {\n        return this.#_partOfEpisode\n    }\n\n    /**\n     * Expose data for use in VideoManager\n     * @returns {{characters: *, keywords: *, link: *, index: number, episode: *, id: *, title: *, script: *}}\n     */\n    expose() {\n        return {\n            index: lineNumber++,\n            id: this.#_id,\n            link: this.#_url,\n            title: this.#_name,\n            keywords: this.#_tags,\n            characters: this.#_characters,\n            script: this.#_citation,\n            episode: this.#_partOfEpisode\n        }\n    }\n}","import {VideoLoader} from \"@/store/VideoLoader/VideoLoader\";\nimport {Video} from \"@/lib/VideoManager/Video\";\n\nconst memory = {\n    set _add(value) {\n        if (this[value] === undefined) {\n            this[value] = false\n        }\n    },\n    set _hydrate({value, data}) {\n        this[value] = data\n    }\n}\n\nconst mapper = {\n    'episodes': (episode) => {\n        return [episode.episodeNumber, episode.name].join(' ')\n    },\n    'people': (people) => {\n        return people.name\n    },\n    'tags': (tag) => {\n        return tag.name\n    },\n}\n\nasync function getPage(baseUri, request, cbFn) {\n    const json = await (await fetch(request)).json()\n\n    const {'hydra:view': hydraView, 'hydra:member': members} = json\n\n    if (hydraView && hydraView['hydra:next']) {\n        let nextUri = baseUri + hydraView['hydra:next'].replace(/\\/api/, '')\n        cbFn(nextUri)\n    }\n    return members\n}\n\nasync function getAll(baseUri, requestUri, requestInit) {\n    let set = []\n    requestUri = baseUri + requestUri\n    do {\n        // TODO fetch clips\n        let request = new Request(requestUri, requestInit)\n        requestUri = null\n        set = set.concat(await getPage(baseUri, request, (nextUri) => {\n            requestUri = nextUri\n        }))\n    } while (requestUri)\n    return set\n}\n\nexport const kvbLoader = new VideoLoader(\n    async function (parameters, next) {\n        parameters\n\n        let requestInit = {\n            headers: new Headers({\n                'accept': 'application/ld+json'\n            }),\n            method: 'GET',\n            // mode: \"cors\",\n            cache: 'default'\n        }\n\n        for (let type in mapper) {\n            // fetch relations\n            const data = await getAll(this.url, '/' + type, requestInit)\n\n            // map relations to @id\n            data.map(piece => {\n                if (piece instanceof Object) {\n                    let data = mapper[type](piece)\n                    memory._hydrate = {value: piece['@id'], data: data}\n                    if (type === 'episodes') {\n                        this.videoManager.addEpisode(data)\n                    }\n                }\n            })\n        }\n\n        let requestUri = this.url + '/clips'\n        let index = 0\n\n        do {\n            let request = new Request(requestUri, requestInit)\n            requestUri = null\n            const clips = await getPage(this.url, request, (nextUri) => {\n                requestUri = nextUri\n            })\n\n\n            // relation transformer\n            clips.map(clip => {\n                Object.keys(clip).map(prop => {\n                    if (prop.match(/^@/)) {\n                        return\n                    }\n                    const values = clip[prop] instanceof Array ? clip[prop] : [clip[prop]]\n                    values.map((value, index) => {\n                        if (!memory[value]) {\n                            return\n                        }\n                        if (clip[prop] instanceof Array) {\n                            clip[prop][index] = memory[value]\n                        } else {\n                            clip[prop] = memory[value]\n                        }\n                    })\n                })\n            })\n\n            for (let clip of clips) {\n                clip.tags = clip.tags.join(',')\n                let video = new Video(clip)\n                this.videoManager.addVideo(++index, video)\n            }\n\n            next(this, requestUri === null)\n        } while (requestUri)\n    },\n    function (backendUrl) {\n        return !!backendUrl && backendUrl.match(/\\/api$/)\n    }\n)\n\n","import {VideoLoader, VideoLoaderTypes} from \"@/store/VideoLoader/VideoLoader\"\nimport csvData from \"@/data/videos.csv\"\nimport characters from \"@/data/characters.json\"\nimport {Video} from \"@/lib/VideoManager/Video\"\n\nexport const localLoader = new VideoLoader(\n    function(parameters, next) {\n        // stub\n        parameters\n        // CSV header\n        const header = csvData[0]\n\n        // reading the CSV line by line\n        for (let lineNumber = 1; lineNumber < csvData.length; lineNumber++) {\n            const line = csvData[lineNumber]\n\n            // creating key:value using header\n            const data = Object.assign(...header.map((k, i) => ({[k]: line[i]})))\n\n            // characters are needed\n            if (!data.characters) {\n                continue\n            }\n\n            const chars = data.characters.replace(/\\s+/g, '').split(',')\n\n            data.characters = chars.filter(x => characters[x])\n\n            if (data.characters.length !== chars.length) {\n                console.error(`At least one unknown character in group '${chars.join(', ')}' for video '${data.title}'.`)\n            }\n\n            const video = new Video(\n                {\n                    id: lineNumber,\n                    citation: data.script,\n                    name: data.title,\n                    url: data.link,\n                    partOfEpisode: data.episode,\n                    characters: data.characters.map(x => characters[x]),\n                    tags: data.keywords\n                }\n            )\n            // adding episode in episode list if not already in\n            this.videoManager.addEpisode(video.partOfEpisode)\n\n            // adding video\n            this.videoManager.addVideo(\n                lineNumber,\n                video\n            )\n        }\n\n        next(this, true)\n    },\n    function (backendUrl) {\n        return !backendUrl\n    },\n    VideoLoaderTypes.local\n)\n\n","import VideoManager from \"@/lib/VideoManager/VideoManager\"\nimport {youtubeLong, youtubeShort} from \"@/lib/VideoManager/adapters/youtube\"\nimport {kvbLoader} from \"@/store/VideoLoader/adapters/kaamelott-videoboard-backend\";\nimport {localLoader} from \"@/store/VideoLoader/adapters/local\";\n\nconst videoLoaders = [\n    kvbLoader,\n    localLoader\n]\n\n// register adapters (youtube) to manage video sources\nVideoManager.registerAdapters(youtubeLong, youtubeShort)\n\nexport const next = (callback) => (videoLoader, end = false) => {\n    console.log('update VideoManager')\n\n    if (end) {\n        // videoLoader used to load videos\n        VideoManager.loader = videoLoader\n    }\n\n    callback(VideoManager)\n}\n\nexport const getVideoData = function (next) {\n    // generic fetch function with callback\n    const fetchFunction = (videoLoader, params = {}, fallback) => {\n        if (!videoLoader.isLocal()) {\n            videoLoader.fetch(params, next).catch(e => {\n                fallback(e)\n            })\n        } else {\n            videoLoader.fetch(params, next)\n        }\n    }\n    // check compliant loaders\n    for (let videoLoader of videoLoaders) {\n        if (!videoLoader.match(process.env.VUE_APP_BACKEND_URL)) {\n            if (videoLoader.isLocal()) {\n                videoLoader.match()\n            } else {\n                continue\n            }\n        }\n\n        // use first compliant loader\n        fetchFunction(videoLoader, {}, (e) => {\n            console.error(e.message)\n            // fallback if backend down or no available loader\n            if (!videoLoader.isLocal()) {\n                try {\n                    localLoader.match()\n                    fetchFunction(localLoader)\n                } catch (e) {\n                    console.error(e.message)\n                }\n            }\n        })\n        break\n    }\n}\n\nexport default VideoManager","import { reactive, provide, inject, readonly } from 'vue'\nimport translations from '@/translations'\nimport {next, getVideoData} from \"@/store/videos\";\n\nconst defaultSearch = {findEpisodes: '', fullText: '', order: 'score', sort: 'asc'}\n\nconst available_languages = Object.keys(translations)\n\nconst state = reactive({\n    videos: [],\n    episodes: [],\n    currentVideo: null,\n    search: defaultSearch,\n    available_languages,\n    lang: available_languages[0],\n    loaded: false,\n    get translations() {\n        return translations[this.lang]\n    }\n})\n\nconst mutations = {\n    updateFromVideoManager(VideoManager) {\n        state.videos = []\n        state.videos = VideoManager.videos\n        state.episodes = VideoManager.episodes\n        state.loaded = !!VideoManager.loader\n    },\n    changeSearch(search) {\n        search = {...defaultSearch, ...search}\n\n        state.search = search\n        this.setCurrentVideo(null)\n    },\n    setCurrentVideo(video) {\n        state.currentVideo = video\n    },\n    setLang(lang) {\n        if (state.available_languages.indexOf(lang) < 0) {\n            console.error('Language '+lang+' not supported')\n            return\n        }\n        state.lang = lang\n    }\n}\n\n// Symbol used by Vue for the store\nexport const storeSymbol = Symbol('store')\nexport const createStore = () => {\n    return { ...mutations, state: readonly(state) };\n}\n\ngetVideoData(next(mutations.updateFromVideoManager))\n\n// use in component to access store\nexport const useStore = () => inject(storeSymbol)\n// not used\nexport const provideStore = () => provide(\n    storeSymbol,\n    createStore()\n)\n","/**\n * Combines two arrays (same length) to give an object\n * @param keys\n * @param values\n * @returns {*}\n */\nexport function arrayCombine(keys, values) {\n    return keys.reduce(function(obj, key, index) {\n        obj[key] = values[index]\n        return obj\n    }, {})\n}\n\n/**\n * Reduce an object as a string using key:value join symbol and entry separator\n * @param object\n * @param keyValueJoinSymbol\n * @param entrySeparator\n * @returns {string}\n */\nexport function objectJoin(object, keyValueJoinSymbol = ': ', entrySeparator = ', ') {\n    const values = Object.values(object)\n    return Object.keys(object).reduce(function(obj, key, index) {\n        obj += (index > 0 ? entrySeparator : '') + key + keyValueJoinSymbol + values[index]\n        return obj\n    }, '')\n}\n\n","import {objectJoin} from \"@/lib/functions/arrayCombine\";\n\n/**\n * Use as method in components / object with this.store provided (components or others)\n * @param id\n * @param params\n * @returns string\n */\nexport function trans(id, params = {}) {\n    if (this.store.state.translations[id]) {\n        // returns translation if found\n        return this.store.state.translations[id].replace(/%([^%]+)%/ig, (matches) => {\n            // replace parameters with values\n            let param = params[matches.replace(/(^%)|(%$)/g, '')]\n            if (param !== undefined) {\n                return param\n            }\n            console.warn(`Missing translation param ${param} for ${id}`)\n            return `%param%`\n        })\n    }\n\n    const warn = `{{ ${[id, Object.keys(params).length\n        ? '%' + objectJoin(params, ':', '%') + '%'\n        : ''].join(' ')} }}`\n\n    console.warn(`Missing translation for ${warn}`)\n\n    return warn\n}\n","import { render } from \"./App.vue?vue&type=template&id=bb4384f0&bindings={\\\"Perceval\\\":\\\"data\\\",\\\"trans\\\":\\\"options\\\",\\\"store\\\":\\\"setup\\\"}\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <section id=\"main\">\n    <SearchBar></SearchBar>\n    <section id=\"videos\">\n      <VideoList></VideoList>\n    </section>\n    <router-link :to=\"{name: 'about'}\" class=\"link\">\n      {{ trans('app_about_title') }}\n    </router-link>\n  </section>\n</template>\n\n<script>\nimport SearchBar from \"@/components/SearchBar\";\nimport VideoList from \"@/components/VideoList\";\nimport {trans} from \"@/lib/functions/trans\";\nimport {useStore} from \"@/store/store\";\n\nexport default {\n  name: \"Main\",\n  components: {VideoList, SearchBar},\n  methods: {\n    trans\n  },\n  setup() {\n    return {store: useStore()}\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","<template>\n  <nav>\n    <div class=\"search-container\">\n      <div class=\"fulltext-container\">\n        <input type=\"text\" v-model=\"search\" @input=\"updateSearch()\"\n               :placeholder=\"trans('search:fulltext:placeholder')\"/>\n      </div>\n      <div class=\"select-container\">\n        <select id=\"book\" v-model=\"selectedBook\" :title=\"trans('episode:L',{number: ''})\"\n                @change=\"updateEpisode()\">\n          <option selected :value=\"null\">{{ trans('search:episode:allBooks') }}</option>\n          <option v-for=\"(val, book) in episodes\" :key=\"book\" :value=\"book\">{{ trans_episode(book) }}</option>\n        </select>\n        <select id=\"tome\" v-model=\"selectedTome\" :class=\"{hidden: selectedBook === null}\"\n                :title=\"trans('episode:T',{number: ''})\"\n                @change=\"updateEpisode()\">\n          <option selected :value=\"null\">{{ trans('search:episode:allTomes') }}</option>\n          <option v-for=\"(val, tome) in selectedBook? episodes[selectedBook] : []\" :key=\"tome\" :value=\"tome\">\n            {{ trans_episode(tome) }}\n          </option>\n        </select>\n        <select id=\"episode\" v-model=\"selectedEpisode\" :class=\"{hidden: selectedTome === null }\"\n                :title=\"trans('episode:E',{number: ''})\" @change=\"updateEpisode()\">\n          <option selected :value=\"null\">{{ trans('search:episode:allEpisodes') }}</option>\n          <option\n              v-for=\"(val, episode) in (episodes && episodes[selectedBook] && selectedTome) ? episodes[selectedBook][selectedTome] : []\"\n              :key=\"episode\" :value=\"episode\">\n            {{ [trans_episode(episode), val].join(' : ') }}\n          </option>\n        </select>\n        <div class=\"select\">\n          <label class=\"order\">\n            Tri\n            <select id=\"orderBy\" v-model=\"orderBy\" @change=\"updateOrder(true)\">\n              <option v-for=\"(func, order) in availableSorts\" :key=\"order\" :value=\"order\">\n                {{ trans('search:order:' + order) }}\n              </option>\n            </select>\n          </label>\n          <label class=\"sort\">\n            <input type=\"checkbox\" v-model=\"sortAsc\" @change=\"updateOrder()\"/>\n            <button>\n              {{\n                (orderBy === 'random')\n                    ? trans('search:sort:random')\n                    : (sortAsc ? trans('search:sort:asc') : trans('search:sort:desc'))\n              }}\n            </button>\n          </label>\n        </div>\n      </div>\n    </div>\n    <button class=\"reset\" v-show=\"search.length || selectedBook\" @click=\"raz()\">\n      <span>{{ trans('search:reset:helper') }}</span>\n      <img :src=\"leodagan\" :alt=\"trans('search:reset')\"/>\n    </button>\n  </nav>\n</template>\n\n<script>\nimport {useStore} from \"@/store/store\"\nimport Leodagan from '@/assets/leodagan.gif'\nimport {paramsCalculator} from \"@/router/paramsCalculator\";\nimport {trans} from \"@/lib/functions/trans\";\nimport {episodeParser} from \"@/lib/functions/episodeParser\";\nimport {availableSorts} from \"@/lib/FullTextSearch\";\n\nexport default {\n  name: \"SearchBar\",\n  data() {\n    return {\n      selectedBook: episodeParser(this.store.state.search.findEpisodes)[0],\n      selectedTome: episodeParser(this.store.state.search.findEpisodes)[1],\n      selectedEpisode: episodeParser(this.store.state.search.findEpisodes)[2],\n      search: this.store.state.search.fullText,\n      leodagan: Leodagan,\n      orderBy: this.store.state.search.order,\n      sortAsc: (this.store.state.search.sort === 'asc'),\n    }\n  },\n  computed: {\n    episodes() {\n      return this.store.state.episodes\n    },\n    availableSorts() {\n      return availableSorts\n    }\n  },\n  methods: {\n    // reset form\n    raz() {\n      this.selectedBook = null\n      this.selectedTome = null\n      this.selectedEpisode = null\n      this.search = ''\n      this.$router.push({query: {}})\n    },\n    updateOrder(reinitSort = false) {\n      this.sortAsc = reinitSort || this.sortAsc\n      const sort = (this.sortAsc ? 'asc' : 'desc')\n      this.$router.push({query: paramsCalculator(this.$route.query, {sort, order: this.orderBy})})\n    },\n    // search for book / tome / episode number\n    updateEpisode() {\n      if (this.selectedBook == null) {\n        this.selectedTome = null\n      }\n      if (this.selectedTome == null) {\n        this.selectedEpisode = null\n      }\n\n      let findEpisodes = [this.selectedBook, this.selectedTome, this.selectedEpisode].map(x => x ?? '').join('')\n\n      this.$router.push({query: paramsCalculator(this.$route.query, {findEpisodes})})\n    },\n    // fulltext search\n    updateSearch() {\n      this.$router.push({query: paramsCalculator(this.$route.query, {fullText: this.search})})\n    },\n    trans,\n    trans_episode(string) {\n      return this.trans('episode:' + string.charAt(0), {number: string.substring(1)})\n    }\n  },\n  setup() {\n    return {store: useStore()}\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\nselect, input, button {\n  font-size: 1.5rem;\n  height: min-content;\n  max-width: 100%;\n  height: auto;\n}\n\nnav {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n}\n\n.search-container {\n  max-width: 100%;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.select-container, .fulltext-container {\n  max-width: 100%;\n}\n\n.fulltext-container {\n  input {\n    width: 100%;\n  }\n}\n\n.select-container {\n  display: flex;\n  justify-content: space-between;\n  max-width: 1238px;\n  flex-wrap: wrap;\n}\n\n.select {\n  display: flex;\n  width: min-content;\n}\n\n.order {\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n\n  .select {\n    margin-left: 5px;\n  }\n}\n\n.sort {\n  position: relative;\n\n  input[type=checkbox] {\n    opacity: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n  }\n\n  button {\n    font-size: 25px;\n    color: inherit;\n    pointer-events: none;\n  }\n}\n\n.reset {\n  width: min-content;\n  color: white;\n  padding: 0;\n  font-size: 0;\n  border-width: 4px;\n  border-radius: 3px;\n  position: relative;\n\n  img {\n    width: 75px;\n  }\n\n  span {\n    position: absolute;\n    font-size: 0.8rem;\n    color: white;\n    bottom: 0;\n    opacity: 0.5;\n    @media screen and (min-width: 1024px) {\n      opacity: 0;\n    }\n  }\n\n  &:hover, &:active {\n    span {\n      opacity: 1;\n    }\n  }\n\n}\n\nselect.hidden {\n  opacity: 0;\n  pointer-events: none;\n}\n\n</style>","/**\n * Recalculates params and remove empty ones\n * @param actualQuery\n * @param newParameters\n * @returns {*}\n */\nexport function paramsCalculator(actualQuery, newParameters = {}) {\n\n    const allParams = {...actualQuery, ...newParameters}\n\n    let toDelete = []\n\n    for (let prop in allParams) {\n        if (!allParams[prop].length) {\n            toDelete.push(prop)\n        }\n    }\n\n    for (let prop of toDelete) {\n        delete allParams[prop]\n    }\n\n    return allParams\n}","/**\n * Parses LxTxExx strings as array [Lx, Tx, Exx]\n * @param episode\n * @returns {string[]}\n */\nexport const episodeParser = (episode) => {\n    episode = /^(L[0-9])(T[0-9])?(E[0-9]+)?$/g.exec(episode || '')\n    if (!episode) {\n        return [null,null,null]\n    }\n    return episode.slice(1).map(x => x ?? null)\n}","import { render } from \"./SearchBar.vue?vue&type=template&id=60fe6d82&scoped=true&bindings={\\\"selectedBook\\\":\\\"data\\\",\\\"selectedTome\\\":\\\"data\\\",\\\"selectedEpisode\\\":\\\"data\\\",\\\"search\\\":\\\"data\\\",\\\"leodagan\\\":\\\"data\\\",\\\"orderBy\\\":\\\"data\\\",\\\"sortAsc\\\":\\\"data\\\",\\\"episodes\\\":\\\"options\\\",\\\"availableSorts\\\":\\\"options\\\",\\\"raz\\\":\\\"options\\\",\\\"updateOrder\\\":\\\"options\\\",\\\"updateEpisode\\\":\\\"options\\\",\\\"updateSearch\\\":\\\"options\\\",\\\"trans\\\":\\\"options\\\",\\\"trans_episode\\\":\\\"options\\\",\\\"store\\\":\\\"setup\\\"}\"\nimport script from \"./SearchBar.vue?vue&type=script&lang=js\"\nexport * from \"./SearchBar.vue?vue&type=script&lang=js\"\n\nimport \"./SearchBar.vue?vue&type=style&index=0&id=60fe6d82&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-60fe6d82\"\n\nexport default script","<template>\n  <div id=\"videolist\">\n    <Video v-for=\"(v,k) in videos\" :key=\"k\" v-bind=\"v\" :window-scroll-top=\"scrollTop\"\n           :window-height=\"windowHeight\"></Video>\n    <div v-if=\"!videos.length\">{{ trans('video-list:no-result') }}</div>\n    <div v-for=\"k in (new Array(5))\" :key=\"k\" class=\"empty\"></div>\n  </div>\n  <a id=\"top\" @click=\"scrollToTop\" :class=\"{show: scrollTop > 0.7*windowHeight}\">⏫</a>\n</template>\n\n<script>\nimport Video from \"@/components/Video\"\nimport {useStore} from \"@/store/store\"\nimport fullTextSearch from '@/lib/FullTextSearch'\nimport {trans} from \"@/lib/functions/trans\";\n\nexport default {\n  name: 'VideoListComponent',\n  components: {Video},\n  props: {\n    maxVideo: {\n      type: Number,\n      default: 30\n    }\n  },\n  data() {\n    return {\n      scrollTop: -1,\n      windowHeight: -1,\n    }\n  },\n  computed: {\n    // return video list according to search params\n    videos() {\n      const search = this.store.state.search.fullText\n      const findEpisodes = this.store.state.search.findEpisodes\n\n      return fullTextSearch.search(\n          search,\n          this.store.state.videos,\n          {episode: findEpisodes},\n          this.store.state.search.order, this.store.state.search.sort)//.slice(0, this.maxVideo)\n    }\n  },\n  mounted() {\n    window.addEventListener('scroll', this.handleScroll)\n    window.addEventListener('resize', this.handleScroll)\n    this.handleScroll()\n  },\n  unmounted() {\n    window.removeEventListener('scroll', this.handleScroll)\n    window.removeEventListener('resize', this.handleScroll)\n  },\n  methods: {\n    trans,\n    handleScroll() {\n      this.scrollTop = document.documentElement.scrollTop\n      this.windowHeight = window.innerHeight\n    },\n    scrollToTop() {\n      window.scroll(0,0)\n    }\n  },\n  setup() {\n    return {store: useStore()}\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/assets/scss/variable\";\n\n#videolist {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  @media (min-width: 715px) {\n    justify-content: space-between;\n  }\n}\n\n#top {\n  color: black;\n  font-size: 3rem;\n  font-weight: bold;\n  position: fixed;\n  bottom: 15px;\n  right: 15px;\n  z-index: 15;\n  width: 3rem; height: 3rem;\n  text-align: center;\n  cursor: pointer;\n  opacity: 0;\n  pointer-events: none;\n\n  transition: opacity .3s ease;\n\n  &.show {\n    opacity: .7;\n    pointer-events: auto;\n    &:hover,&:active,&:focus {\n      opacity: 1;\n      transition: opacity 0s ease;\n    }\n  }\n}\n\n.empty {\n  @include video-component;\n  opacity: 0;\n}\n</style>","<template>\n  <div :class=\"{'video-component': 1, openInfos}\" ref=\"videoComponent\">\n    <div v-if=\"visible\">\n      <div id=\"copy-links\">\n        <a @click=\"copyToClipboard(embedCode, {type: 'code'}, $event)\"><i class=\"icon-code\"></i></a>\n        <!--   TODO add internal link instead of external   -->\n        <a @click=\"copyToClipboard(href, {type: 'lien'}, $event)\" :href=\"href\"><i class=\"icon-link\"></i></a>\n        <span :class=\"{'helper': 1, active: helper}\">{{ helperText }}</span>\n      </div>\n      <div class=\"video-container\" :style=\"computedStyle\" v-if=\"!currentVideo && thumbnail.length\">\n        <img :src=\"thumbnail\" :alt=\"title\" @click=\"setCurrentVideo()\"/>\n        <div class=\"overlay\"></div>\n        <div class=\"click\"></div>\n      </div>\n      <div class=\"video-container\" :style=\"computedStyle\" v-else>\n        <video v-if=\"type === 'local'\" :src=\"src\"/>\n        <div v-else v-html=\"autoplay\"></div>\n      </div>\n      <div :class=\"{text: 1, open: openInfos}\">\n        <h2 class=\"info-toggler\" @click=\"openInfos = !openInfos\">\n          <em :title=\"openInfos ? null : title\">{{ title }}</em>\n          <span :class=\"{openInfos}\">▼</span>\n        </h2>\n        <div :class=\"{show: openInfos}\">\n          <p class=\"characters\">{{ characters.join(', ') }}</p>\n          <p class=\"script\" v-if=\"script.length\" v-html=\"scriptWithStageDirections\"></p>\n          <p v-show=\"false\">{{ keywords.replace(/,/g, ', ') }}</p>\n        </div>\n      </div>\n      <span class=\"episode\">{{ episode }}\n        <span class=\"title\">{{ episodeTitleUnaccented }}</span>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {useStore} from \"@/store/store\";\nimport {copyToClipboard} from \"@/lib/functions/copyToClipboard\";\nimport {ucFirst} from \"@/lib/string\";\nimport {trans} from \"@/lib/functions/trans\";\nimport {routeCalculator} from \"@/router/router\";\n\nexport default {\n  name: \"Video\",\n  props: {\n    directLink: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: Number\n    },\n    hash: {\n      type: String\n    },\n    characters: {\n      type: Array,\n      default: () => []\n    },\n    autoplay: {\n      type: String\n    },\n    title: {\n      type: String,\n      default: ''\n    },\n    script: {\n      type: String,\n      default: ''\n    },\n    keywords: {\n      type: String,\n      default: ''\n    },\n    type: {\n      type: String,\n      default: 'local'\n    },\n    link: String,\n    embedCode: String,\n    style: Object,\n    ratio: {\n      type: Number,\n      default: 0.5625\n    },\n    thumbnail: {\n      type: String,\n      default: ''\n    },\n    episode: {\n      type: String,\n      default: ''\n    },\n    episodeTitle: {\n      type: String,\n      default: ''\n    },\n    windowScrollTop: {\n      type: Number,\n      default: -1\n    },\n    windowHeight: {\n      type: Number,\n      default: -1\n    }\n  },\n  data() {\n    return {\n      helper: false,\n      helperText: '',\n      openInfos: this.directLink,\n      basicStyle: {\n        position: 'relative',\n        height: '0',\n        width: '100%',\n        'padding-bottom': (this.ratio * 100) + '%'\n      },\n      component: null,\n      hasBeenShown: false\n    }\n  },\n  computed: {\n    episodeTitleUnaccented() {\n      return this.episodeTitle.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\")\n    },\n    visible() {\n      if (this.directLink) {\n        return true\n      }\n      if (this.component) {\n        return this.calcVisibility()\n      }\n      return false\n    },\n    // generate absolute link to this video\n    href() {\n      return routeCalculator('videoDetail', {video: this.hash})\n    },\n    computedStyle() {\n      return {...this.basicStyle, ...this.style}\n    },\n    // true if video is currently played OR if where on single video page\n    currentVideo() {\n      return this.directLink || this.store.state.currentVideo === this.src\n    },\n    src() {\n      return this.embedCode\n    },\n    // style for stage directions\n    scriptWithStageDirections() {\n      return this.script\n          .replace(/\\[\\.\\.\\.\\]/g, '{...}')\n          .replace(/\\[([^\\]]+)\\]/g, `<i>~$1~</i>`)\n          .replace(/\\(([^)]+)\\)/g, `<em>($1)</em>`)\n          .replace(/{\\.\\.\\.}/g, '[...]')\n    }\n  },\n  mounted() {\n    this.component = this.$refs.videoComponent\n  },\n  methods: {\n    trans,\n    calcVisibility() {\n      if (this.hasBeenShown) {\n        return true\n      }\n\n      let errorMargin = 300\n      let offsetTop = this.component.offsetTop - errorMargin\n      let offsetHeight = this.component.offsetHeight + errorMargin\n\n      let visibility = (this.windowScrollTop <= (offsetTop + offsetHeight))\n          && ((this.windowScrollTop + this.windowHeight) >= offsetTop)\n\n      if (visibility) {\n        this.hasBeenShown = true\n      }\n      return visibility\n    },\n    setCurrentVideo() {\n      this.store.setCurrentVideo(this.src)\n    },\n    copyToClipboard(value, {type}, $event = null) {\n      if ($event) {\n        $event.preventDefault()\n        $event.stopPropagation()\n      }\n      copyToClipboard(value, () => {\n        let helperText = this.helperText = this.trans('clipboard:copied', {item: ucFirst(type)})\n        this.helper = true\n        setTimeout(() => {\n          if (this.helperText === helperText) {\n            this.helper = false\n          }\n        }, 3000)\n      })\n    }\n  },\n  setup() {\n    return {store: useStore()}\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '~@/assets/scss/variable';\n@import '~@/assets/css/fonticon.css';\n\n.video-component {\n  @include video-component;\n  flex-direction: column;\n  height: min-content;\n\n  & > div {\n    position: relative;\n    background: rgba(255, 255, 255, .7);\n    border: 1px solid white;\n    padding-bottom: 7.5px;\n    height: min-content;\n  }\n\n  &.openInfos {\n    height: auto;\n  }\n\n  .text {\n    word-wrap: break-word;\n    width: 100%;\n    margin: auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    font-size: 0.9rem;\n    padding: 7.5px 7.5px 15px;\n\n    .script {\n      text-align: left;\n      white-space: pre-line;\n      margin-top: 0;\n      //font-size: .8rem;\n      i {\n        display: block;\n        text-align: center;\n      }\n    }\n\n    h2 {\n      font-size: 1.1rem;\n      margin: 7.5px 0 7.5px;\n      position: relative;\n      display: block;\n\n      em {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: inline-block;\n        max-width: calc(100% - 32px);\n      }\n\n      & + div {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        height: 100%;\n        max-height: 0;\n        overflow: hidden;\n        transition: max-height 0s .3s linear, transform .3s ease;\n        transform: scaleY(0);\n        transform-origin: top left;\n\n        &.show {\n          max-height: 100%;\n          transform: scaleY(1);\n          transition: max-height 0s linear, transform .3s ease;\n        }\n      }\n    }\n\n    &.open {\n      h2 {\n        em {\n          white-space: normal;\n        }\n      }\n    }\n  }\n}\n\n.video-container {\n  overflow: hidden;\n\n  video, iframe {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    border: none;\n  }\n\n  img {\n    width: 100%;\n  }\n\n  img, .click {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    cursor: pointer;\n  }\n\n  .click {\n    $play-btn-color: #888;\n    $play-btn-bgcolor: rgba(255, 255, 255, .8);\n    $play-btn-size: 3rem;\n    pointer-events: none;\n    border: 3px solid $play-btn-color;\n    border-radius: 100%;\n    width: $play-btn-size;\n    height: $play-btn-size;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: $play-btn-bgcolor;\n    @media screen and (min-width: 1024px) {\n      opacity: .7;\n      .video-container:hover & {\n        opacity: 1;\n      }\n    }\n\n    &:after {\n      content: '▶';\n      color: $play-btn-color;\n      font-size: $play-btn-size * 0.5;\n      padding-left: $play-btn-size * .15;\n    }\n  }\n\n  @media screen and (min-width: 1024px) {\n    &:hover .click {\n      opacity: 1;\n    }\n  }\n}\n\n@keyframes softblink {\n  0% {\n    background: rgba(0, 0, 0, 0.15);\n  }\n  50% {\n    background: rgba(0, 0, 0, 0);\n  }\n  100% {\n    background: rgba(0, 0, 0, 0.15);\n  }\n}\n\n.overlay {\n  position: absolute;\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  box-shadow: 0 0 3px 5px rgba(0, 0, 0, 0.7) inset;\n  animation: 3s ease-in-out infinite softblink;\n  z-index: 10;\n}\n\n.info-toggler {\n  cursor: pointer;\n\n  em {\n    font-style: normal;\n    //text-decoration: underline;\n    //text-decoration-style: dotted;\n  }\n\n  span {\n    transform-origin: 50% 50%;\n    display: inline-block;\n    vertical-align: top;\n\n    &.openInfos {\n      transform: translateY(-3px) rotate(180deg);\n    }\n  }\n}\n\n.characters {\n  font-weight: bold;\n  margin-top: 0;\n}\n\n#copy-links {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  padding: 5px;\n  z-index: 12;\n\n  a {\n    @include btn;\n    color: black;\n  }\n\n  .helper {\n    position: absolute;\n    background: rgba(0, 0, 0, 0.7);\n    color: white;\n    padding: 3px;\n    font-size: 0.8rem;\n    opacity: 0;\n    pointer-events: none;\n    transition: opacity .3s ease;\n\n    right: 0;\n    top: 100%;\n    width: 215px;\n    line-height: 24px;\n    border-radius: 3px;\n\n    &.active {\n      transition: opacity 0s ease;\n      opacity: 1;\n    }\n  }\n}\n\n.episode {\n  float: left;\n  margin: -20px 75px 0 7.5px;\n  font-size: 0.8rem;\n  text-align: left;\n\n  .title {\n    @include kaamelott;\n  }\n}\n\n</style>","/**\n * Copy value to clipboard\n * @param value\n * @param cbFn callback function with value as parameter\n * @returns {Promise<void>}\n */\nexport async function copyToClipboard(value, cbFn = () => {}) {\n    await navigator.clipboard.writeText(value)\n    cbFn(value)\n}\n","const ucFirst = function(string) {\n    return string.charAt(0).toUpperCase() + string.substring(1)\n}\nconst ucWords = function(string) {\n    return string.split(/ /g).map(ucFirst).join(' ')\n}\n\nexport {ucFirst, ucWords}","import { render } from \"./Video.vue?vue&type=template&id=01d1ceab&bindings={\\\"directLink\\\":\\\"props\\\",\\\"id\\\":\\\"props\\\",\\\"hash\\\":\\\"props\\\",\\\"characters\\\":\\\"props\\\",\\\"autoplay\\\":\\\"props\\\",\\\"title\\\":\\\"props\\\",\\\"script\\\":\\\"props\\\",\\\"keywords\\\":\\\"props\\\",\\\"type\\\":\\\"props\\\",\\\"link\\\":\\\"props\\\",\\\"embedCode\\\":\\\"props\\\",\\\"style\\\":\\\"props\\\",\\\"ratio\\\":\\\"props\\\",\\\"thumbnail\\\":\\\"props\\\",\\\"episode\\\":\\\"props\\\",\\\"episodeTitle\\\":\\\"props\\\",\\\"windowScrollTop\\\":\\\"props\\\",\\\"windowHeight\\\":\\\"props\\\",\\\"helper\\\":\\\"data\\\",\\\"helperText\\\":\\\"data\\\",\\\"openInfos\\\":\\\"data\\\",\\\"basicStyle\\\":\\\"data\\\",\\\"component\\\":\\\"data\\\",\\\"hasBeenShown\\\":\\\"data\\\",\\\"episodeTitleUnaccented\\\":\\\"options\\\",\\\"visible\\\":\\\"options\\\",\\\"href\\\":\\\"options\\\",\\\"computedStyle\\\":\\\"options\\\",\\\"currentVideo\\\":\\\"options\\\",\\\"src\\\":\\\"options\\\",\\\"scriptWithStageDirections\\\":\\\"options\\\",\\\"trans\\\":\\\"options\\\",\\\"calcVisibility\\\":\\\"options\\\",\\\"setCurrentVideo\\\":\\\"options\\\",\\\"copyToClipboard\\\":\\\"options\\\",\\\"store\\\":\\\"setup\\\"}\"\nimport script from \"./Video.vue?vue&type=script&lang=js\"\nexport * from \"./Video.vue?vue&type=script&lang=js\"\n\nimport \"./Video.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./VideoList.vue?vue&type=template&id=585efd68&scoped=true&bindings={\\\"maxVideo\\\":\\\"props\\\",\\\"scrollTop\\\":\\\"data\\\",\\\"windowHeight\\\":\\\"data\\\",\\\"videos\\\":\\\"options\\\",\\\"trans\\\":\\\"options\\\",\\\"handleScroll\\\":\\\"options\\\",\\\"scrollToTop\\\":\\\"options\\\",\\\"store\\\":\\\"setup\\\"}\"\nimport script from \"./VideoList.vue?vue&type=script&lang=js\"\nexport * from \"./VideoList.vue?vue&type=script&lang=js\"\n\nimport \"./VideoList.vue?vue&type=style&index=0&id=585efd68&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-585efd68\"\n\nexport default script","import { render } from \"./Main.vue?vue&type=template&id=2c30ab58&scoped=true&bindings={\\\"trans\\\":\\\"options\\\",\\\"store\\\":\\\"setup\\\"}\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-2c30ab58\"\n\nexport default script","<template>\n  <section>\n    <router-link :to=\"{name: 'home'}\" class=\"link\">{{ trans('link_back') }}</router-link>\n    <VideoComponent v-bind=\"video\" :directLink=\"true\"></VideoComponent>\n  </section>\n  <router-link :to=\"{name: 'about'}\" class=\"link\">\n    {{ trans('app_about_title') }}\n  </router-link>\n</template>\n\n<script>\nimport Video from \"@/components/Video\"\nimport {useStore} from \"@/store/store\"\nimport {trans} from \"@/lib/functions/trans\"\n\nexport default {\n  name: \"SingleVideo\",\n  components: {VideoComponent: Video},\n  computed: {\n    // find correct video\n    video() {\n\n      const videos = this.store.state.videos.filter(x => x.hash === this.$route.params.video)\n      if (videos.length) {\n        return videos[0]\n      }\n      console.error(`No video found with id '${this.$route.params.video}'`)\n      return []\n    }\n  },\n  methods: {\n    trans\n  },\n  setup() {\n    return {store: useStore()}\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"~@/assets/scss/variable\";\n\nsection {\n  text-align: left;\n\n  & > a + * {\n    margin: auto;\n    text-align: center;\n  }\n\n}\n\n.link {\n  margin-top: 60px;\n}\n</style>\n","import { render } from \"./SingleVideo.vue?vue&type=template&id=7c43fe26&scoped=true&bindings={\\\"video\\\":\\\"options\\\",\\\"trans\\\":\\\"options\\\",\\\"store\\\":\\\"setup\\\"}\"\nimport script from \"./SingleVideo.vue?vue&type=script&lang=js\"\nexport * from \"./SingleVideo.vue?vue&type=script&lang=js\"\n\nimport \"./SingleVideo.vue?vue&type=style&index=0&id=7c43fe26&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-7c43fe26\"\n\nexport default script","<template>\n  <section>\n    <router-link :to=\"{name: 'home'}\" class=\"link\">{{ trans('link_back') }}</router-link>\n    <h2>{{ trans('app_about_title') }}</h2>\n    <article>\n      <p>TODO</p>\n    </article>\n    <aside>\n      <h3>{{ trans('app_about:contact_title') }}</h3>\n      <p>TODO</p>\n    </aside>\n  </section>\n</template>\n<script>\nimport {useStore} from \"@/store/store\"\nimport {trans} from \"@/lib/functions/trans\"\n\nexport default {\n  name: \"About\",\n  methods: {\n    trans\n  },\n  setup() {\n    return {store: useStore()}\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./About.vue?vue&type=template&id=e6d1ce44&scoped=true&bindings={\\\"trans\\\":\\\"options\\\",\\\"store\\\":\\\"setup\\\"}\"\nimport script from \"./About.vue?vue&type=script&lang=js\"\nexport * from \"./About.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-e6d1ce44\"\n\nexport default script","import Main from \"@/components/Main\"\nimport SingleVideo from \"@/components/SingleVideo\"\nimport About from \"@/components/About\";\nimport Perceval from '@/assets/perceval.png'\nimport {trans} from \"@/lib/functions/trans\";\nimport {episodeParser} from \"@/lib/functions/episodeParser\";\n\n// Routes must be named (unique) and have a component\n// metas must be inside a `metas` getter and be named like '[tagName](.[name])' and must be arrow functions\n// fetch function have access to store and current route (this.store and this.currentRoute - do not use these properties)\n\nconst home = {\n    name: 'home',\n    path: '',\n    component: Main,\n    get metas() {\n        return {\n            title: () => this.trans('app_title'),\n            'meta.description': () => this.trans('app_description'),\n            'meta.og:image': () => Perceval.toString(),\n            'meta.og:video': null,\n        }\n    }\n}\n\nconst videoDetailRoute = {\n    name: 'videoDetail',\n    path: '/video/:video',\n    component: SingleVideo,\n    async fetch() {\n        while (!this.store.state.loaded) {\n            await (async () => new Promise(resolve => setTimeout(resolve, 100)))()\n        }\n        this.data = this.store.state.videos.filter(x => x.hash === this.currentRoute.params.video)[0] ?? null\n    },\n    get metas () {\n        return {\n            title: () => {\n                const video = this.data\n                let episode = episodeParser(video.episode)\n                    .map(x => this.trans('episode:' + x.replace(/[0-9]+/, ''),\n                        {number: x.replace(/[LTE]/, '')}))\n                episode = [episode.join(' '), video.episodeTitle].join(' : ')\n\n                return this.trans('app_video_title', {\n                    episode, title: video.title\n                })\n            },\n            'meta.description': () => this.data.script,\n            'meta.og:image': () => this.data.thumbnail,\n            'meta.og:video': () => this.data.link,\n        }\n    }\n}\n\nconst aboutRoute = {\n    name: 'about',\n    path: '/about',\n    component: About,\n    get metas() {\n        return {\n            title: () => this.trans('app_about_title'),\n            'meta.description': () => this.trans('app_about_description')\n        }\n    }\n}\n\nconst routes = [\n    home,\n    videoDetailRoute,\n    aboutRoute\n]\n\nfor (let route of routes) {\n    if (route.metas) {\n        route.store = null\n        route.currentRoute = null\n        route.trans = null\n        route.inject = function ({store, currentRoute}) {\n            this.store = store\n            this.currentRoute = currentRoute\n            this.trans = trans\n        }\n    }\n}\n\nexport default routes","import routes from \"@/router/routes\";\nimport {createRouter, createWebHashHistory, createWebHistory} from 'vue-router'\n\n/**\n * Used to get routePrefix\n */\nconst configuration = {\n    webHashHistory: '/#',\n    webHistory: '',\n}\n\nconst confUsed = 'webHashHistory'\n\nconst routePrefix = configuration[confUsed]\n\nlet history\nswitch (confUsed) {\n    case 'webHashHistory':\n        history = createWebHashHistory()\n        break\n    case 'webHistory':\n        history = createWebHistory()\n        break\n}\n\nconst router = createRouter({\n    history,\n    routes\n})\n\n/**\n * Calculates absolute or relative url according to route and provided params\n * @param route\n * @param params\n * @param absolute\n * @returns {boolean|*} false if route is not found\n */\nexport function routeCalculator(route, params, absolute = true) {\n    route = routes.filter(r => r.name === route)[0]\n    if (!route) {\n        console.warn(`Route ${route} not found`)\n        return false\n    }\n    return (absolute ? (window.location.origin + routePrefix) : '') + (() => {\n        let path = route.path\n        for (let param in params) {\n            let value = params[param]\n            path = path.replace(':'+param, value)\n        }\n        return path\n    })().replace(/:[^:/]+/,'')\n}\n\nexport default router","function processMetas(route) {\n    console.info('process metas')\n    const metas = {}\n    for (let meta in route.metas) {\n        if (route.metas[meta] instanceof Function) {\n            metas[meta] = route.metas[meta]()\n        }\n    }\n    setSeoData(metas)\n}\n\n/**\n * Extracts meta from route\n * @param route\n */\nexport async function getSeoDataFromRoute(route) {\n    if (route.fetch) {\n        await route.fetch()\n    }\n    processMetas(route)\n}\n\n/**\n * Set metas for current page\n * @param title\n * @param description\n * @param og_title\n * @param og_description\n * @param og_image\n * @param og_video\n */\nfunction setSeoData({\n                        title = null,\n                        'meta.description': description = '',\n                        'meta.og:title': og_title = title,\n                        'meta.og:description': og_description = description,\n                        'meta.og:image': og_image = null,\n                        'meta.og:video': og_video = null,\n                    }) {\n    const metas = {\n        title,\n        'meta.description': description,\n        'meta.og:title': og_title,\n        'meta.og:description': og_description,\n        'meta.og:image': og_image,\n        'meta.og:video': og_video,\n    }\n\n    for (let metaName in metas) {\n        let metaValue = metas[metaName]\n        const type = metaName.split('.')\n        let tagName = metaName\n\n        let tag, name = null\n\n        // meta tag\n        if (type[0] === 'meta') {\n            tagName = 'meta'\n            name = type[1]\n            tag = document.querySelector('head > ' + tagName + '[name=\"' + name + '\"]')\n        } else { // other tag - <title>\n            tag = document.querySelector('head > ' + tagName)\n        }\n\n        // remove tag if null\n        if (!metaValue) {\n            if (tag) {\n                tag.parentElement.removeChild(tag)\n            }\n            continue\n        }\n\n        console.log(metaValue)\n        metaValue = metaValue.replace(/\\s+/g, ' ')\n\n        // create and add tag to <head> if not present\n        if (!tag) {\n            tag = document.createElement(tagName)\n            if (name) {\n                tag.setAttribute('name', name)\n            }\n            document.querySelector('head').append(tag)\n        }\n\n        // set meta tag content\n        if (name) {\n            tag.setAttribute('content', metaValue)\n            continue\n        }\n        // set other tag content\n        tag.textContent = metaValue\n    }\n}","import {createStore} from \"@/store/store\"\nimport {paramsCalculator} from \"@/router/paramsCalculator\"\nimport routes from './routes'\nimport {getSeoDataFromRoute} from \"@/lib/functions/setSeoDataFromRoute\";\n\nconst store = createStore()\n\n\nexport default {\n    // executed before each routing\n    beforeEach: ({app, router}) => function (to, from, next) {\n\n        const nextBeforeEach = function() {\n            if (!app.isMounted) {\n                app.mount('#app')\n                app.isMounted = true\n            }\n            next()\n        }\n\n        switch (to.name) {\n            case 'home':\n                if (from.name instanceof String && from.name.length) {\n                    switch (from.name) {\n                        case 'home':\n                            break\n                        default:\n                            // if hitting 'Home' button from another page, try to get search parameters back, and redirect\n                            if (Object.values(store.state.search).join('')\n                                .replace(/\\s+/, '').length) {\n                                nextBeforeEach()\n\n                                router.replace({\n                                    name: 'home', query: paramsCalculator(store.state.search)\n                                })\n                                store.changeSearch({})\n                                return\n                            }\n                            break\n                    }\n                }\n                store.changeSearch({...to.query})\n                break\n        }\n\n        if (to.matched.length) {\n            const route = routes.filter(r => r.name === to.matched[0].name)[0]\n            if (route) {\n                // store and router injection for SEO data fetching\n                route.inject({store, currentRoute: to})\n                // generate SEO meta tags\n                getSeoDataFromRoute(route).then(nextBeforeEach)\n            }\n            else {\n                nextBeforeEach()\n            }\n        } else {\n            nextBeforeEach()\n        }\n\n    }\n}\n","import { createApp } from 'vue'\nimport App from '@/App.vue'\nimport {storeSymbol, createStore} from \"@/store/store\"\nimport router from '@/router/router'\nimport guards from '@/router/guards'\n\nconst app = createApp(App)\napp.provide(storeSymbol, createStore())\napp.use(router)\n\nrouter.beforeEach(guards.beforeEach({router, app}))\n\n// app.mount('#app')","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SearchBar.vue?vue&type=style&index=0&id=60fe6d82&scoped=true&lang=scss\"","module.exports = __webpack_public_path__ + \"img/perceval.a1c972d7.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Video.vue?vue&type=style&index=0&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SingleVideo.vue?vue&type=style&index=0&id=7c43fe26&scoped=true&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VideoList.vue?vue&type=style&index=0&id=585efd68&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/leodagan.99232927.gif\";"],"sourceRoot":""}